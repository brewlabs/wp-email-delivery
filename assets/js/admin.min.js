!function(a){a(document).ready(function(b){var c=Backbone.Router.extend({routes:{"wped/:action/:id":"defaultRoute","wped/verify":"wped_verify"}}),d={Views:{}};d.Model=Backbone.Model.extend({url:ajaxurl+"?action=wped_verify_sender"});var e=wp.Backbone.View.extend({tagName:"div",template:wp.template("my-awesome-template"),events:{"click .media-modal-backdrop, .media-modal-close":"escapeHandler",keydown:"keydown"},constructor:function(a){a&&a.controller&&(this.controller=a.controller),wp.Backbone.View.apply(this,arguments)},initialize:function(){},render:function(){console.log("here"),this.$el.html(this.template({name:"world"}))},open:function(){var b,c=this.$el,d=this.options;return c.is(":visible")?this:(this.views.attached||this.attach(),d.freeze&&(this._freeze={scrollTop:a(window).scrollTop()}),a("body").addClass("modal-open"),c.show(),"ontouchend"in document&&(b=window.tinymce&&window.tinymce.activeEditor)&&!b.isHidden()&&b.iframeElement&&(b.iframeElement.focus(),b.iframeElement.blur(),setTimeout(function(){b.iframeElement.blur()},100)),this.$el.focus(),this.propagate("open"))},close:function(b){var c=this._freeze;return this.views.attached&&this.$el.is(":visible")?(a("body").removeClass("modal-open"),this.$el.hide().undelegate("keydown"),a("#wpbody-content").focus(),this.propagate("close"),c&&a(window).scrollTop(c.scrollTop),b&&b.escape&&this.propagate("escape"),f.navigate(""),this):this},attach:function(){return this.views.attached?this:(this.views.rendered||this.render(),this.$el.appendTo(this.options.container),this.views.attached=!0,this.views.ready(),this.propagate("attach"))},detach:function(){return this.$el.is(":visible")&&this.close(),this.$el.detach(),this.views.attached=!1,this.propagate("detach")},escape:function(){return this.close({escape:!0})},escapeHandler:function(a){a.preventDefault(),this.escape()},propagate:function(a){return this.trigger(a),this.options.propagate&&this.controller.trigger(a),this},keydown:function(a){27===a.which&&this.$el.is(":visible")&&(this.escape(),a.stopImmediatePropagation())}}),f=new c;f.on("route:defaultRoute",function(b,c){a(document).ready(function(){var a=new e({});a.open()})}),f.on("route:wped_verify",function(b,c){a(document).ready(function(){var b=new e({});b.open();var c=new d.Model;c.fetch(),a("body").append(b.$el)})}),Backbone.history.start()})}(jQuery);